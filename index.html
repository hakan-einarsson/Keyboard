<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Web Keyboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
</head>
<body>
    <ul>
        <li class="white e" onclick="getNote('c-0');"></li>
        <li class="black ds" onclick="getNote('cs-0');"></li>
        <li class="white d" onclick="getNote('d-0');"></li>
        <li class="black cs" onclick="getNote('ds-0');"></li>
        <li class="white c" onclick="getNote('e-0');"></li>
        <li class="white b" onclick="getNote('f-0');"></li>
        <li class="black as" onclick="getNote('fs-0');"></li>
        <li class="white a" onclick="getNote('g-0');"></li>
        <li class="black gs" onclick="getNote('gs-0');"></li>
        <li class="white g" onclick="getNote('a-0');"></li>
        <li class="black fs" onclick="getNote('bs-0');"></li>
        <li class="white f" onclick="getNote('b-0');"></li>
        <li class="white e" onclick="getNote('c-1');"></li>
        <li class="black ds" onclick="getNote('cs-1');"></li>
        <li class="white d" onclick="getNote('d-1');"></li>
        <li class="black cs" onclick="getNote('ds-1');"></li>
        <li class="white c" onclick="getNote('e-1');"></li>
        <li class="white b" onclick="getNote('f-1');"></li>
        <li class="black as" onclick="getNote('fs-1');"></li>
        <li class="white a" onclick="getNote('g-1');"></li>
        <li class="black gs" onclick="getNote('gs-1');"></li>
        <li class="white g" onclick="getNote('a-1');"></li>
        <li class="black fs" onclick="getNote('bs-1');"></li>
        <li class="white f" onclick="getNote('b-1');"></li>
        <li class="white e" onclick="getNote('c-2');"></li>
        <li class="black ds" onclick="getNote('cs-2');"></li>
        <li class="white d" onclick="getNote('d-2');"></li>
        <li class="black cs" onclick="getNote('ds-2');"></li>
        <li class="white c" onclick="getNote('e-2');"></li>
    </ul>
    <br>
    <div id="oscillators">
    </div>
    <!--<div id="1" class="mb-2">
        <div class="row justify-content-center align-items-center">
            <div class="col-1 text-center">
                Oscillator
            </div>
            <div class="col-1 text-center">
                Wave
            </div>
            <div class="col-1 text-center">
                Filter
            </div>
            <div class="col-1 text-center">
                Volume (0-1)
            </div>
            <div class="col-1 text-center">
                Volume story ('volume','time')
            </div>
            <div class="col-1 text-center">
                Octave
            </div>
            <div class="col-1 text-center">
                Frequency
            </div>
            <div class="col-1 text-center">
                Length(s)
            </div>
            
        </div>
        <div class="row justify-content-center align-items-center">
            <div class="col-1 text-center">1</div>
            <div class="col-1">
                <select id="waveType" class="form-control">
                    <option value="sine">Sine</option>
                    <option value="square">Square</option>
                    <option value="sawtooth">Sawtooth</option>
                    <option value="triangle">Triangle</option>
                </select>
            </div>
            <div class="col-1">
                <select id="waveType" class="form-control">
                    <option value="lowpass">Lowpass</option>
                    <option value="highpass">Highpass</option>
                    <option value="bandpass">Bandpass</option>
                    <option value="lowshelf">Lowshelf</option>
                    <option value="highshelf">Highshelf</option>
                    <option value="peaking">Peaking</option>
                    <option value="notch">Notch</option>
                    <option value="allpass">Allpass</option>
                </select>
            </div>
            <div class="col-1">
                <input type="number" name="" id="volume" min="0" max="1" step="0.01" class="form-control" placeholder="0.5">
            </div>
            <div class="col-1">
                <input type="text" name="" id="volume-story" class="form-control" placeholder="0, 0.5">
            </div>
            <div class="col-1">
                <input type="number" name="" id="octave" class="form-control" placeholder="0.1">
            </div>
            <div class="col-1">
                <input type="number" name="" id="frequency" class="form-control" placeholder="50">
            </div>
            <div class="col-1">
                <input type="number" name="" id="length" step="0.01" class="form-control" placeholder="1">
            </div>
        </div>
    </div>-->
    <script src="Instrument.js"></script>
    <script src="main.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <button id="addOscillator">add</button>
    <script>

        //var oscillators = localStorage('hejsan');
        oscillators.map(function(e){
            //console.log(e.id)
            $('#oscillators').append(addOscillatorUI(e));
            $('#waveType-'+e.id).val(e.wave);
        });

       // $('#oscillators').append(addOscillatorUI((oscillators.length).toString()));
        $('#addOscillator').click(function(){
            $('#oscillators').append(addOscillatorUI((oscillators.length+1).toString()));
            oscillators.push((oscillators.length+1).toString());
        });
        $('#hejhej').click(function(){
            console.log('test');
            getNote('b-0');
        });
        $('#hejhej2').click(function(){
            console.log('test');
            getNoteAnd('d-1');
        });
        $('#addO').click(function(){
            
            var oscillator = parseInt($("#note").val());
            var oscillatorwave = $("#waveType").val();
            var collection = {
                note:oscillator,
                wave:oscillatorwave
            }
            oscillators.push(collection)
            console.log(oscillators);
            //getNoteAnd('d-1');
        });
        function addOscillatorUI(instrument){    
            return '<div id="'+instrument.id+'"class="mb-2"><div class="row justify-content-center align-items-center"><div class="col-1 text-center">'+instrument.id+'</div><div class="col-1"><select id="waveType-'+instrument.id+'" class="form-control"><option value="sine">Sine</option><option value="square">Square</option><option value="sawtooth">Sawtooth</option><option value="triangle">Triangle</option></select></div><div class="col-1"><select id="filter-'+instrument.id+'" class="form-control"><option value="lowpass">Lowpass</option><option value="highpass">Highpass</option><option value="bandpass">Bandpass</option><option value="lowshelf">Lowshelf</option><option value="highshelf">Highshelf</option><option value="peaking">Peaking</option><option value="notch">Notch</option><option value="allpass">Allpass</option></select></div><div class="col-1"><input type="number" name="" id="volume-'+instrument.id+'" min="0" max="1" step="0.01" class="form-control" value="0.5"></div><div class="col-1"><input type="text" name="" id="volume-story-'+instrument.id+'" class="form-control" value="0, 0.5"></div><div class="col-1"><input type="number" name="" id="octave-'+instrument.id+'" class="form-control" value="0"></div><div class="col-1"><input type="number" name="" id="frequency-'+instrument.id+'" class="form-control" value="'+instrument.frequency+'"></div><div class="col-1"><input id="length" type="number" name="" id="length-'+instrument.id+'" step="0.01" class="form-control" value="1"></div></div></div>';
        }
    </script>
</body>
</html>